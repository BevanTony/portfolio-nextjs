import { useEffect, useState } from 'react'
import styles from './About.module.scss'
import { motion, useTransform, useViewportScroll } from 'framer-motion'
import Skill from '../Skills/Skills'
import Contact from '../Contact/Contact'
import Timeline from '../Timeline'




function About(){

    <svg width="1696" height="790" viewBox="0 0 1696 790" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M1679.7 56.0691C1664.72 74.1402 1636.09 88.5 1585 88.5C1569.11 88.5 1557.26 91.2886 1548.65 96.3911C1540.05 101.486 1534.64 108.911 1531.69 118.275C1528.73 127.655 1528.23 138.986 1529.47 151.866C1530.71 164.743 1533.69 179.137 1537.67 194.626C1541.65 210.114 1546.63 226.682 1551.86 243.909C1552.3 245.361 1552.74 246.816 1553.19 248.277C1558.01 264.148 1562.99 280.541 1567.55 297.117C1577.52 333.316 1585.5 370.431 1585.5 405C1585.5 460.436 1544.76 512.649 1494.01 555.345C1443.23 598.063 1382.32 631.361 1341.7 648.959L1341.69 648.963L1341.68 648.966C1298.76 665.582 1234.34 672.67 1180.61 639.814C1126.86 606.941 1084 534.19 1084 391.5C1084 369.239 1082.46 351.463 1079.59 337.587C1076.71 323.707 1072.5 313.764 1067.18 307.136C1061.88 300.524 1055.46 297.197 1048.1 296.55C1040.71 295.901 1032.34 297.944 1023.15 302.165C1004.75 310.61 983.257 327.689 960.174 348.846C941.475 365.984 921.767 385.768 901.858 405.754C897.197 410.432 892.526 415.122 887.853 419.791C863.229 444.4 838.588 468.444 815.48 487.293C805.628 495.329 796.042 502.432 786.845 508.233C775.214 579.897 746.464 652.243 690.854 707.854C662.096 736.612 639.103 756.791 620.588 769.78C602.089 782.759 587.989 788.61 577.031 788.594C566.001 788.578 558.256 782.624 552.497 772.326C546.754 762.056 542.946 747.406 539.758 729.839C537.549 717.667 535.635 704.087 533.586 689.554C529.711 662.06 525.355 631.153 517.608 599.902C505.776 552.164 486.056 503.763 448.146 465.854C429.155 446.862 414.843 437.697 404.04 435.757C398.662 434.791 394.165 435.617 390.374 437.905C386.572 440.2 383.436 443.992 380.843 449.033C375.651 459.128 372.706 474.088 370.889 491.541C369.103 508.699 368.413 528.2 367.721 547.742L367.687 548.705C366.984 568.56 366.261 588.419 364.363 605.823C362.467 623.212 359.392 638.22 353.948 648.338C351.223 653.405 347.886 657.279 343.773 659.601C339.651 661.928 334.796 662.668 329.096 661.546C317.739 659.311 302.968 649.675 283.646 630.354C221.949 568.656 162.235 555.849 112.677 564.829C63.0827 573.816 23.5802 604.635 2.38566 630.318L1.61438 629.682C22.9198 603.865 62.6174 572.884 112.498 563.846C162.415 554.801 222.451 567.744 284.354 629.646C303.657 648.95 318.246 658.392 329.289 660.565C334.789 661.647 339.395 660.924 343.281 658.73C347.178 656.53 350.399 652.826 353.068 647.865C358.413 637.929 361.475 623.089 363.369 605.714C365.262 588.354 365.985 568.533 366.688 548.67L366.723 547.689C367.414 528.161 368.105 508.63 369.894 491.438C371.712 473.97 374.67 458.849 379.954 448.576C382.599 443.434 385.845 439.471 389.857 437.049C393.88 434.621 398.629 433.769 404.216 434.773C415.345 436.771 429.845 446.138 448.854 465.146C486.944 503.237 506.724 551.836 518.579 599.661C526.336 630.954 530.709 661.976 534.59 689.505C536.637 704.019 538.546 717.561 540.742 729.661C543.929 747.219 547.715 761.725 553.37 771.838C559.01 781.923 566.468 787.579 577.032 787.594C587.667 787.609 601.552 781.913 620.014 768.962C638.459 756.021 661.404 735.889 690.146 707.146C745.345 651.947 774.019 580.175 785.716 508.94C773.775 516.359 762.501 521.545 752.164 523.685C742.851 525.613 734.27 525.076 726.646 521.448C719.022 517.821 712.411 511.13 706.987 500.855C696.154 480.33 690 445.389 690 391.5C690 337.608 693.594 298.506 699.445 271.793C702.37 258.438 705.864 248.16 709.766 240.675C713.665 233.196 717.998 228.454 722.629 226.252C727.289 224.035 732.174 224.425 737.062 227.042C741.93 229.649 746.813 234.469 751.552 241.146C761.033 254.504 770.037 275.434 777.232 301.492C791.625 353.619 798.818 426.407 788.026 500.556C787.718 502.675 787.395 504.794 787.057 506.915C795.971 501.236 805.271 494.33 814.848 486.518C837.912 467.705 862.521 443.694 887.147 419.084C891.814 414.42 896.482 409.734 901.139 405.058C921.051 385.07 940.78 365.264 959.498 348.109C982.587 326.947 1004.18 309.772 1022.73 301.257C1032 296.997 1040.56 294.883 1048.18 295.554C1055.83 296.226 1062.49 299.695 1067.96 306.51C1073.42 313.309 1077.67 323.423 1080.56 337.384C1083.46 351.35 1085 369.199 1085 391.5C1085 534.01 1127.8 606.343 1181.14 638.961C1234.49 671.594 1298.56 664.585 1341.31 648.037C1381.86 630.468 1442.69 597.218 1493.37 554.58C1544.07 511.918 1584.5 459.964 1584.5 405C1584.5 370.569 1576.55 333.559 1566.59 297.383C1562.03 280.824 1557.06 264.449 1552.23 248.579C1551.79 247.115 1551.35 245.655 1550.9 244.2C1545.67 226.974 1540.69 210.386 1536.7 194.874C1532.72 179.363 1529.72 164.913 1528.47 151.962C1527.22 139.014 1527.72 127.533 1530.73 117.975C1533.76 108.402 1539.31 100.764 1548.14 95.5308C1556.96 90.3052 1569.01 87.5 1585 87.5C1635.91 87.5 1664.2 73.1931 1678.93 55.4309C1693.66 37.6604 1694.9 16.3312 1691.51 2.11594L1692.49 1.88406C1695.93 16.3355 1694.67 38.0063 1679.7 56.0691ZM785.93 507.627C786.318 505.221 786.687 502.816 787.036 500.412C797.807 426.405 790.625 353.756 776.268 301.758C769.088 275.754 760.123 254.949 750.737 241.725C746.042 235.111 741.267 230.428 736.59 227.923C731.931 225.429 727.383 225.098 723.059 227.155C718.705 229.225 714.503 233.751 710.653 241.137C706.806 248.516 703.337 258.701 700.422 272.007C694.593 298.619 691 337.642 691 391.5C691 445.361 697.159 480.092 707.872 500.389C713.222 510.525 719.693 517.033 727.075 520.546C734.456 524.058 742.805 524.602 751.961 522.706C762.37 520.551 773.785 515.25 785.93 507.627Z" fill="black" stroke="black" stroke-width="2"/>
    </svg>

    
    const [yearsOfExp, setYearsOfExp] = useState(0)

    const [currentYPos, setCurrentYpos] = useState(0)
    const { scrollYProgress, scrollY } = useViewportScroll()

    useEffect(() => {
        getYearsOfExp()

        scrollYProgress.onChange((v) => setCurrentYpos(v))
    },[currentYPos])

    console.log(scrollYProgress.current)

    const aboutSecY = useTransform(scrollYProgress, [0, .5], [0, 1000])

    const yName = useTransform(scrollYProgress, [0,.07], [0,50])
    const opacityName = useTransform(scrollYProgress, [0,.07], [1,0])

    const yWebDeveloper = useTransform(scrollYProgress, [0,.21, .3], [-150,-100, -25])
    const opacityWebDeveloper = useTransform(scrollYProgress, [0,.21, .3], [0,1,0])

    const yProgammer = useTransform(scrollYProgress, [.21,.3], [-150, -100])
    const opacityProgrammer = useTransform(scrollYProgress, [.21, .3], [0,1])

    const getYearsOfExp = () => { 
        var start = new Date('09/01/18')
        var today = new Date()
        var exp = today.getFullYear() - start.getFullYear()
        setYearsOfExp(String(exp))
        
    }




    return(
        <>
            <div className={styles.aboutContainer}>

                <motion.div exit={{x:-1000, opacity:0}} transition={{ duration:1}} initial='hidden' animate='visible' variants={{
                hidden:{
                    opacity:0,
                },
                visible:{
                    opacity:1,
                    x:0

                },
                transition:{
                    duration:2
                }
                    }}
                    

                className={styles.textAboutMe}>
                    <motion.div style={{
                        y:aboutSecY,
                    }}>
                        <h1>I AM,</h1>
                        <motion.h1 style={{y:yName, opacity:opacityName}}>Bevan Tony Medrano.</motion.h1>
                        <motion.h1 style={{y:yWebDeveloper, opacity:opacityWebDeveloper}}> A Web Developer.</motion.h1>
                        <motion.h1 style={{y:yProgammer, opacity:opacityProgrammer}}> A Programmer.</motion.h1>
                        <h2>About Me:</h2>
                        <h2>I am a BSIT graduate in the philippines. I've been programming for {String(yearsOfExp)} years.
                         I enjoy the process of creating elegant looking websites.</h2>
                    </motion.div>

                </motion.div>
          
                <motion.div initial={{opacity:0}} animate={{opacity:1}} transition={{ duration:2}} className={styles.imageAboutMe}>
                    <img src='/Me.jpg'/>
                </motion.div>
            </div>
            <div>
                <Timeline/>
            </div>

            <div className={styles.skillsContainer}>
                <Skill currentYPos={currentYPos}/>
            </div>

            <div className={styles.contactContainer}>
                <Contact/>
            </div>
        </>
    )
}
export default About


